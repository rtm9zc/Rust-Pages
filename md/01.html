<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Getting Started | Introduction to Rust: From HelloWorld to MapReduce in Four Steps</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="rtm9zc">
        <meta name="description" content="RustLogoRust, in the words of the developers, is a &quot;systems programming language that runs blazingly fast, prevents almost all crashes, and eliminates data races.&quot; These characteristics make it well suited for developing large, concurrent, performance-critical systems that are so prevelant in today&#39;s computing world.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../md/01/1.html" />
        
        
        <link rel="prev" href="../index.html" />
        

        <meta property="og:title" content="Getting Started | Introduction to Rust: From HelloWorld to MapReduce in Four Steps">
        <meta property="og:site_name" content="Introduction to Rust: From HelloWorld to MapReduce in Four Steps">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/rtm9zc">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="rtm9zc/Rust-Pages" data-level="1" data-basepath=".." data-revision="1402429711148">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/rtm9zc/Rust-Pages" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/rtm9zc/Rust-Pages/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/rtm9zc/Rust-Pages/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >Introduction to Rust: From HelloWorld to MapReduce in Four Steps</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/rtm9zc" target="blank" class="author-link">About the author</a>
        </li>
        

        
        <li>
            <a href="https://github.com/rtm9zc/Rust-Pages/issues" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        <li>
            <a href="https://github.com/rtm9zc/Rust-Pages/edit/master/md/01.md" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        

        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li class="chapter " data-level="1" data-path="md/01.html">
                
                <a href="../md/01.html">
                    <i class="fa fa-check"></i> <b>1.</b> Getting Started
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="md/01/1.html">
                            
                            <a href="../md/01/1.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Variables
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="md/01/2.html">
                            
                            <a href="../md/01/2.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> Conditionals
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="md/01/3.html">
                            
                            <a href="../md/01/3.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Pattern Matching
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="md/01/4.html">
                            
                            <a href="../md/01/4.html">
                                <i class="fa fa-check"></i> <b>1.4.</b> Looping
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="md/01/5.html">
                            
                            <a href="../md/01/5.html">
                                <i class="fa fa-check"></i> <b>1.5.</b> Expressions
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="md/01/6.html">
                            
                            <a href="../md/01/6.html">
                                <i class="fa fa-check"></i> <b>1.6.</b> Functions
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.7" data-path="md/01/7.html">
                            
                            <a href="../md/01/7.html">
                                <i class="fa fa-check"></i> <b>1.7.</b> Program 1: Collatz
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li class="chapter " data-level="2" data-path="md/02.html">
                
                <a href="../md/02.html">
                    <i class="fa fa-check"></i> <b>2.</b> Starting to Corrode: Pointers, Memory, Strings, and I/O
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="md/02/1.html">
                            
                            <a href="../md/02/1.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Memory Management and Pointers
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="md/02/2.html">
                            
                            <a href="../md/02/2.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Vectors and Strings
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="md/02/3.html">
                            
                            <a href="../md/02/3.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> Error Handling
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="md/02/4.html">
                            
                            <a href="../md/02/4.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Basic I/O
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="md/02/5.html">
                            
                            <a href="../md/02/5.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> Example: Secret Sharing
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li class="chapter " data-level="3" data-path="md/03.html">
                
                <a href="../md/03.html">
                    <i class="fa fa-check"></i> <b>3.</b> Multi-Purpose Maps: Structures, Traits, and Higher-Order Functions
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="md/03/1.html">
                            
                            <a href="../md/03/1.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Structures
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="md/03/2.html">
                            
                            <a href="../md/03/2.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Traits
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="md/03/3.html">
                            
                            <a href="../md/03/3.html">
                                <i class="fa fa-check"></i> <b>3.3.</b> Generics
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="md/03/4.html">
                            
                            <a href="../md/03/4.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> Higher-Order Functions
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="md/03/5.html">
                            
                            <a href="../md/03/5.html">
                                <i class="fa fa-check"></i> <b>3.5.</b> Example: Mapping a List
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li class="chapter " data-level="4" data-path="md/04.html">
                
                <a href="../md/04.html">
                    <i class="fa fa-check"></i> <b>4.</b> Tasks and Communication
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="md/04/1.html">
                            
                            <a href="../md/04/1.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Task Properties
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="md/04/2.html">
                            
                            <a href="../md/04/2.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Example: Multi-Tasking Map
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li class="chapter " data-level="5" data-path="md/05.html">
                
                <a href="../md/05.html">
                    <i class="fa fa-check"></i> <b>5.</b> Concurrency Across Tasks: Arcs and Mutexes
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="md/05/1.html">
                            
                            <a href="../md/05/1.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> The Arc Module
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="md/05/2.html">
                            
                            <a href="../md/05/2.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Using a Mutex
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li class="chapter " data-level="6" data-path="md/06.html">
                
                <a href="../md/06.html">
                    <i class="fa fa-check"></i> <b>6.</b> MapReduce in Rust
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="md/06/1.html">
                            
                            <a href="../md/06/1.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Using mapreduce
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 3.5714285714285716%;min-width: 0%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../md/01.html" title="Getting Started" class="chapter done new-chapter" data-progress="1" style="left: 3.5714285714285716%;"></a>
    
        <a href="../md/01/1.html" title="Variables" class="chapter  " data-progress="1.1" style="left: 7.142857142857143%;"></a>
    
        <a href="../md/01/2.html" title="Conditionals" class="chapter  " data-progress="1.2" style="left: 10.714285714285714%;"></a>
    
        <a href="../md/01/3.html" title="Pattern Matching" class="chapter  " data-progress="1.3" style="left: 14.285714285714286%;"></a>
    
        <a href="../md/01/4.html" title="Looping" class="chapter  " data-progress="1.4" style="left: 17.857142857142858%;"></a>
    
        <a href="../md/01/5.html" title="Expressions" class="chapter  " data-progress="1.5" style="left: 21.428571428571427%;"></a>
    
        <a href="../md/01/6.html" title="Functions" class="chapter  " data-progress="1.6" style="left: 25%;"></a>
    
        <a href="../md/01/7.html" title="Program 1: Collatz" class="chapter  " data-progress="1.7" style="left: 28.571428571428573%;"></a>
    
        <a href="../md/02.html" title="Starting to Corrode: Pointers, Memory, Strings, and I/O" class="chapter  new-chapter" data-progress="2" style="left: 32.142857142857146%;"></a>
    
        <a href="../md/02/1.html" title="Memory Management and Pointers" class="chapter  " data-progress="2.1" style="left: 35.714285714285715%;"></a>
    
        <a href="../md/02/2.html" title="Vectors and Strings" class="chapter  " data-progress="2.2" style="left: 39.285714285714285%;"></a>
    
        <a href="../md/02/3.html" title="Error Handling" class="chapter  " data-progress="2.3" style="left: 42.857142857142854%;"></a>
    
        <a href="../md/02/4.html" title="Basic I/O" class="chapter  " data-progress="2.4" style="left: 46.42857142857143%;"></a>
    
        <a href="../md/02/5.html" title="Example: Secret Sharing" class="chapter  " data-progress="2.5" style="left: 50%;"></a>
    
        <a href="../md/03.html" title="Multi-Purpose Maps: Structures, Traits, and Higher-Order Functions" class="chapter  new-chapter" data-progress="3" style="left: 53.57142857142857%;"></a>
    
        <a href="../md/03/1.html" title="Structures" class="chapter  " data-progress="3.1" style="left: 57.142857142857146%;"></a>
    
        <a href="../md/03/2.html" title="Traits" class="chapter  " data-progress="3.2" style="left: 60.714285714285715%;"></a>
    
        <a href="../md/03/3.html" title="Generics" class="chapter  " data-progress="3.3" style="left: 64.28571428571429%;"></a>
    
        <a href="../md/03/4.html" title="Higher-Order Functions" class="chapter  " data-progress="3.4" style="left: 67.85714285714286%;"></a>
    
        <a href="../md/03/5.html" title="Example: Mapping a List" class="chapter  " data-progress="3.5" style="left: 71.42857142857143%;"></a>
    
        <a href="../md/04.html" title="Tasks and Communication" class="chapter  new-chapter" data-progress="4" style="left: 75%;"></a>
    
        <a href="../md/04/1.html" title="Task Properties" class="chapter  " data-progress="4.1" style="left: 78.57142857142857%;"></a>
    
        <a href="../md/04/2.html" title="Example: Multi-Tasking Map" class="chapter  " data-progress="4.2" style="left: 82.14285714285714%;"></a>
    
        <a href="../md/05.html" title="Concurrency Across Tasks: Arcs and Mutexes" class="chapter  new-chapter" data-progress="5" style="left: 85.71428571428571%;"></a>
    
        <a href="../md/05/1.html" title="The Arc Module" class="chapter  " data-progress="5.1" style="left: 89.28571428571429%;"></a>
    
        <a href="../md/05/2.html" title="Using a Mutex" class="chapter  " data-progress="5.2" style="left: 92.85714285714286%;"></a>
    
        <a href="../md/06.html" title="MapReduce in Rust" class="chapter  new-chapter" data-progress="6" style="left: 96.42857142857143%;"></a>
    
        <a href="../md/06/1.html" title="Using mapreduce" class="chapter  " data-progress="6.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_27">
                    
                        <h1 id="getting-started">Getting Started</h1>
<p>In this section, we&#39;ll be going over the basic syntax of Rust. You&#39;ll learn about variable declarations and mutability, how to work with functions, and some basic control structures including loops, conditionals, and matching. Finally, we will analyze
a simple program to find <a href="http://en.wikipedia.org/wiki/Collatz_conjecture" target="_blank">Collatz numbers</a>.</p>
<p>   This section assumes you already have Rust installed.  If not, follow <a href="http://static.rust-lang.org/doc/master/tutorial.html#getting-started" target="_blank">the directions here</a>.</p>
<h2 id="variables">Variables</h2>
<h3 id="declaration-and-typing-">Declaration and Typing:</h3>
<p>Here is a simple variable declaration in Rust:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> foo = <span class="hljs-number">5</span>;
</code></pre>
<p>The keyword <code>let</code> is used to declare local variables in Rust, and must preface every such declaration. </p>
<p>Note that there is no explicit statement of type here; instead, the compiler infers that <code>foo</code> should be an int. Rust&#39;s compiler is typically very good at correctly inferring types for variables. However, there are times when it may not be able to infer a variable&#39;s type, or when an explicit type declaration is helpful for readability.  Here&#39;s the same declaration, this time with the explicit type:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> foo: <span class="hljs-keyword">int</span> = <span class="hljs-number">5</span>;
</code></pre>
<p>Rust&#39;s primitive types are similar to those in other C-like languages. For details, see <a href="http://static.rust-lang.org/doc/master/tutorial.html#primitive-types-and-literals" target="_blank"><em>Primitive types and literals</em></a>.</p>
<p>Finally, you should notice that the above declaration uses =, as you
would expect, for assignment, and terminates the statement with a
semicolon. Operators in Rust are similar to those in C and Java.  We&#39;ll
discuss the difference between statements and expressions (which are not
terminated by a semicolon) later in this section.  </p>
<p>To summarize, declarations of local variables in Rust follow the form:</p>
<pre><code class="lang-rust">let &lt;em&gt;name&lt;/em&gt; [: &lt;em&gt;type&lt;/em&gt;] [= &lt;em&gt;value&lt;/em&gt;];
</code></pre>
<p>[Note: I tried to add formatting to this, but can&#39;t rebuild book to see if it works.  Please check.]</p>
<p>where the items in brackets are optional.</p>
<h3 id="mutability-">Mutability:</h3>
<p>The following code is not valid Rust:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> foo = <span class="hljs-number">5</span>;
foo = <span class="hljs-number">6</span>;
</code></pre>
<p>The compiler produces this error:</p>
<p><pre><code>test.rs:3:2: 3:5 <span style="color:red;">error:</span> re-assignment of immutable variable <code>foo</code>
test.rs:3   foo = 6;
            <span style="color:red;">^<del></span>
test.rs:2:6: 2:9 <span style="color:green;">note</span>: prior assignment occurs here
test.rs:2   let foo = 5;
                <span style="color:green;">^</del></span>
error: aborting due to previous error
</code></pre>
This is because Rust variables are <em>immutable</em> by default.  That is, you cannot change their assigned value once given so &quot;variables&quot; are not actually variable by default.  To declare a mutable local variable, use the keyword <code>mut</code> as shown below:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> foo = <span class="hljs-number">5</span>;
foo = foo + <span class="hljs-number">1</span>;
</code></pre>
<h3 id="tuples">Tuples</h3>
<p>Tuples are groupings of values, similar in appearance but different in
function to a list of variables.</p>
<p>Making a tuple is easy. The values to be included are enclosed in parentheses 
and separated by commas.  Tuples are heterogeneous; elements can be of any type:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> tup = (<span class="hljs-number">4</span>, <span class="hljs-number">5.0</span>, <span class="hljs-keyword">false</span>, <span class="hljs-string">"hello"</span>);
</code></pre>
<p>There are a few caveats that we need to be wary of:</p>
<ul>
<li>Elements in a tuple are immutable</li>
<li>Tuple fields cannot be accessed directly</li>
<li>A tuple must have at least one field</li>
</ul>

<p>[Note: Is it really necessary to introduce tuples here?  Where are they first used?]</p>
<h2 id="conditionals">Conditionals</h2>
<p>Rust’s conditionals are very similar to what you’ve probably seen in C and other C successors, with two important differences. </p>
<p>The predicates expressions must be Boolean expressions. They must evaluate to a value of type <code>bool</code>; no type conversion will take place automatically) in the case of <code>if</code> and <code>else if</code>. The boolean expressions need not be in parentheses, but the body of the conditional block must be enclosed in braces. That is, whereas in Java, you could have something like: </p>
<pre><code class="lang-java"><span class="hljs-keyword">if</span> (foo == <span class="hljs-number">5</span>) 
    System.out.println(<span class="hljs-string">"No problem!"</span>);
</code></pre>
<p>in Rust, the consequent clause must be a block.  Here&#39;s an example (note that the <code>else</code> and 
<code>else if</code> are optional):</p>
<pre><code class="lang-rust"><span class="hljs-keyword">if</span> foo == <span class="hljs-number">5</span> { 
    println!(<span class="hljs-string">"it’s five"</span>) 
}
<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> foo == <span class="hljs-number">6</span> { 
    println!(<span class="hljs-string">"it’s six"</span>)
}
<span class="hljs-keyword">else</span> { 
    println!(<span class="hljs-string">"it’s not five or six"</span>)
}
</code></pre>
<p>The other important difference between Rust conditionals and those in C
and Java, is that the Rust conditionals (like nearly all other
constructs in Rust) are <em>expressions</em>.  This is described more
later. [Note: can we make these internal links in the gitbook?]</p>
<h2 id="pattern-matching">Pattern Matching</h2>
<p>Rather than using a <code>switch</code> statement, as in C, Rust provides a <code>match</code> expression which is significantly more powerful. You&#39;ll run into it frequently, particularly in the error handling section. Here&#39;s an example:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">match</span> isOdd(foo) {
    <span class="hljs-keyword">true</span> =&gt; println!(<span class="hljs-string">"Odd"</span>), <span class="hljs-comment">// Notice the comma</span>
    <span class="hljs-keyword">false</span> =&gt; println!(<span class="hljs-string">"Even"</span>)
}
</code></pre>
<p>A <code>match</code> expression evaluates the first branch with a matching pattern. The pattern is an expression with the same type as the object being matched. If the object has the same value as one that the pattern accepts (see below for accepting multiple values with a single match arm), then the corresponding arm will be evaluated.</p>
<p>The matching arms can be single expressions or blocks.  With blocks, we don&#39;t need a comma, but they are allowed.</p>
<pre><code class="lang-rust"><span class="hljs-keyword">match</span> isOdd(foo) {
    <span class="hljs-keyword">true</span> =&gt; { println!(<span class="hljs-string">"Odd"</span>) }
    <span class="hljs-keyword">false</span> =&gt; { println!(<span class="hljs-string">"Even"</span>) }
}
</code></pre>
<p>The compiler checks that at least one pattern of the <code>match</code> expression will always match. When a variable is matched, the patterns must completely represent the possible values the variable could hold. This is easy for booleans; there&#39;s just <code>true</code> and <code>false</code>. For other types, listing every possible value would be tedious and awful. </p>
<p>To prevent insanity, Rust includes a <code>_</code> that matches everything.</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> x = <span class="hljs-number">4</span>;
<span class="hljs-keyword">match</span> x {
    <span class="hljs-number">0</span> =&gt; { } <span class="hljs-comment">// Do nothing</span>
    <span class="hljs-number">4</span> =&gt; { foo() } 
    <span class="hljs-number">_</span> =&gt; { bar() } <span class="hljs-comment">// Matches every integer value</span>
}
</code></pre>
<p>A <code>match</code> expression can also use simple logical expressions in its arms. For example, </p>
<pre><code class="lang-rust"><span class="hljs-keyword">match</span> x {
    <span class="hljs-number">3</span> | <span class="hljs-number">5</span> | <span class="hljs-number">6</span>  =&gt; { println!(<span class="hljs-string">"First arm!"</span>) }
    <span class="hljs-number">10</span>..<span class="hljs-number">16</span> =&gt; { println!(<span class="hljs-string">"Second arm!"</span>) }   
    <span class="hljs-number">_</span>      =&gt; { println!(<span class="hljs-string">"Default arm!"</span>) }
}
</code></pre>
<p>will print &quot;First arm!&quot; if x is 3, 5, or 6, &quot;Second arm!&quot; if x is between 10 and 16, and &quot;Default arm!&quot; otherwise.</p>
<p>Pattern matching is used to access tuple values. If we don&#39;t care about a value,
we can use <code>_</code> to ignore it:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> tup = (<span class="hljs-number">4</span>, <span class="hljs-number">5.0</span>, <span class="hljs-keyword">false</span>, <span class="hljs-string">"hello"</span>); 
<span class="hljs-keyword">let</span> (a, b, c, <span class="hljs-number">_</span>) = tup;
</code></pre>
<p>The <code>_</code> is handy for <code>match</code> statements too:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">match</span> status {
    (<span class="hljs-number">0</span>, <span class="hljs-keyword">true</span>) =&gt; println!(<span class="hljs-string">"Success"</span>),
    (<span class="hljs-number">_</span>, <span class="hljs-keyword">true</span>) =&gt; println!(<span class="hljs-string">"Pyrrhic victory"</span>), <span class="hljs-comment">// Any first value matches</span>
    (<span class="hljs-number">_</span>, <span class="hljs-number">_</span>) =&gt; println!(<span class="hljs-string">"Complete loss"</span>) <span class="hljs-comment">// Any pair of values will match</span>
}
</code></pre>
<p>(here, <code>status</code> has type <code>(int, bool)</code>)</p>
<p>Patters in a <code>match</code> predicate may also use &quot;pattern guards&quot; - logical expressions that can be used to further
narrow down what a particular arm selects. For example:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">match</span> tup {
    (x, y) <span class="hljs-keyword">if</span> x &gt; y =&gt; { println!(<span class="hljs-string">"Decreasing"</span>) }
    (x, y) <span class="hljs-keyword">if</span> y &gt; x =&gt; { println!(<span class="hljs-string">"Increasing"</span>) }
    <span class="hljs-number">_</span>              =&gt; { println!(<span class="hljs-string">"Equal"</span>) }
}
</code></pre>
<h3 id="an-exercise-in-matching">An Exercise in Matching</h3>
<p>To quickly test your comprehension of what you&#39;ve learned so far, try writing a simple program to do the following:</p>
<p>[Note: can we do something with the formatting/styling to make it more clear what the exercises are?]</p>
<p>Given an <code>(int, bool)</code> tuple, use a <code>match</code> expression to print [Note: I can&#39;t parse this to understand what the 4 cases are, or why.  Can we replace this with a more meaningful/interesting example?  Or, for now, just cut this exercise?]
(a) &quot;In Range!&quot; if the bool is true and the int is 
between 20 and 26, (b) if the bool is true and the aforementioned condition isn&#39;t true for the int, (c) if the int is between 40 and 49 (where the value of the bool doesn&#39;t matter), and (d), wherein none of the previous conditions are true. Print out an appropriate message using <code>println</code> for each case (e.g. for (a), you could print
&quot;True and in range&quot;, or something of the sort). Since you haven&#39;t learned how to get input yet, just define a variable like this:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> x = (<span class="hljs-number">51</span>, <span class="hljs-keyword">true</span>);
</code></pre>
<p>match on it, and manually change its value to test the different branches.</p>
<p>Put your code inside a block of this form, and run &quot;rustc <filename>&quot; to compile it.</p>
<pre><code class="lang-rust"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span>(</span>) {
    <span class="hljs-comment">// Code goes here</span>
}
</code></pre>
<h2 id="looping">Looping</h2>
<p>Rust provides several looping constructs, similar to those in C and
Java. </p>
<h3 id="loop">Loop</h3>
<p><code>loop</code> creates a loop that executes its body block forever:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">loop</span> {
    `code`
}
</code></pre>
<p>Within the loop body, we can use <code>break</code> to exit the loop and <code>continue</code>
to skip to the next iteration.</p>
<h3 id="while-loops">While Loops</h3>
<p>Like most other languages, a <code>while</code> loop iterates until its condition is false:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">while</span> condition {
    `code`
}
</code></pre>
<p>[Note: Is the <code>code</code> meant to appear as formatted code?]</p>
<p>The type of the condition must be of type <code>bool</code>.</p>
<p>Here&#39;s an example:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> i = <span class="hljs-number">0</span>;
<span class="hljs-keyword">while</span> i &lt; <span class="hljs-number">10</span> { 
    println!(<span class="hljs-string">"Hi there"</span>);
    i += <span class="hljs-number">1</span>; <span class="hljs-comment">// Rust doesn't support ++ or --</span>
}
</code></pre>
<h3 id="for-loops">For Loops</h3>
<p>Rust’s <code>for</code> loop is more akin to Java’s <code>for-each</code> loop than to traditional for loop in C or Java. </p>
<p>It iterates over a collection of items (we&#39;ll cover vectors soon). [Note: Link?]  </p>
<p>We can achieve a traditional for loop by using <code>range(start, end)</code>,
which creates a set of integers, <code>[start, end)</code>:</p>
<pre><code class="lang-rust"><span class="hljs-comment">// Calls foo2 with 0, 1, ..., 9</span>
<span class="hljs-keyword">for</span> i in range(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>) {
    foo2(i)
}
</code></pre>
<h2 id="expressions">Expressions</h2>
<p>Rust’s use of the semicolon may seem confusing when first encountered, but once learned, is intuitive and remarkably useful. Everything that doesn’t end with a semicolon is an expression, and everything that does is a statement. Expressions have an associated value, whereas statements do not (technically, they have a value of nil or void, but for our purposes this is the same as having none.) You can think of the semicolon in Rust as suppressing the value of an expression, turning it into a statement.</p>
<p>Almost everything in Rust can be an expression - the only exceptions are declarations. This allows Rust code to be very concise. For example, an explicit return from a function is not necessary since the function&#39;s value will be the value of its body block, which is the value of the last expression in that block.  This use of expressions makes the <code>return</code> keyword necessary only when you want to leave a function early. </p>
<p>Another common use of Rust&#39;s expressions is easy conditional assignment of variables, as a conditional block will have the value of its last expression:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> <span class="hljs-number">_f</span>oo = <span class="hljs-keyword">if</span> x == <span class="hljs-number">5</span> {
                <span class="hljs-string">"five"</span>
          }
          <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> x == <span class="hljs-number">6</span> {
                <span class="hljs-string">"six"</span>
          }
          <span class="hljs-keyword">else</span> {
                <span class="hljs-string">"neither"</span>
          };
</code></pre>
<p>The same can be done with a <code>match</code> expression:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">let</span> <span class="hljs-number">_</span>status = <span class="hljs-keyword">match</span> y {
    <span class="hljs-number">0</span>..<span class="hljs-number">9</span>    =&gt;  { <span class="hljs-string">"Less than 10"</span> }
    <span class="hljs-number">_</span>       =&gt;  { <span class="hljs-string">"Greater than 10"</span> }
};
</code></pre>
<h2 id="functions">Functions</h2>
<p>Functions are created by using <code>fn</code>. Like loops, their bodies must be blocks.</p>
<p>Here’s the syntax for a function that accepts no parameters and doesn&#39;t
return anything:</p>
<pre><code class="lang-rust"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">name</span>(</span>) {
    `code`
}
</code></pre>
<p>[Note: why is it coloring the parens different colors?]</p>
<p>Here is an example:</p>
<pre><code class="lang-rust"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">foobar</span>(</span>) {
    println!(<span class="hljs-string">"foo"</span>);
}
</code></pre>
<p>The syntax for calling a function is similar to that in C.  This function can be called with <code>foo()</code>. </p>
<p>Functions can be declared inside other functions:</p>
<pre><code class="lang-rust"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">foo1</span>(</span>) {
    <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">bar1</span>(</span>) { println!(<span class="hljs-string">"bar"</span>); }
    bar1();
}
</code></pre>
<h3 id="parameters-and-return-values-">Parameters and Return Values:</h3>
<p>When parameters are given to a function, their types must be specified using
the same syntax that specifies a type during variable declaration, <code>name: type</code>.</p>
<pre><code class="lang-rust"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">rprime_sum</span>(</span>x: <span class="hljs-keyword">int</span>, y: <span class="hljs-keyword">int</span>, m: <span class="hljs-keyword">int</span>) {
    <span class="hljs-keyword">match</span> (x + y) % m {
        <span class="hljs-number">0</span> =&gt; println!(<span class="hljs-string">"Multiple"</span>),
        <span class="hljs-number">_</span> =&gt; println!(<span class="hljs-string">"Relatively prime"</span>)
    }
}
</code></pre>
<p>A return value is specified using <code>-&gt; type</code> after the parameter list. To actually return a value, we use Rust&#39;s expressions.</p>
<pre><code class="lang-rust"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">rprime</span>(</span>x: <span class="hljs-keyword">int</span>, m: <span class="hljs-keyword">int</span>) -&gt; <span class="hljs-keyword">bool</span> {
    (x % m) == <span class="hljs-number">0</span>
}
</code></pre>
<h3 id="yet-another-exercise-">Yet Another Exercise:</h3>
<p>[Note: prefer to cut this now.  I&#39;d rather have less exercises for this
version, and add ones that are interesting and with explained solutions
later.]</p>
<p>As another check to make sure you&#39;re good to go so far, try to implement <a href="http://c2.com/cgi/wiki?FizzBuzzTest" target="_blank">Fizz Buzz</a>,
as specified on that page. Remember that you&#39;ll need to put your code in a main function, as shown above.</p>
<h2 id="program-1-collatz">Program 1: Collatz</h2>
<h3 id="the-collatz-conjecture-">The Collatz Conjecture:</h3>
<p>The <a href="http://en.wikipedia.org/wiki/Collatz_conjecture" target="_blank">Collatz Conjecture</a> claims that starting from any natural number it is possible to reach 1 by following these rules:</p>
<ol>
    <li> Take <i>n</i>:
        <ul>
            <li> If <i>n</i> is odd, set <i>n</i> = 3<i>n</i> + 1.
            <li> Otherwise, set <i>n</i> = <i>n</i> / 2.
        </ul>
    <li> Repeat the procedure until <i>n</i> is 1.
</ol>

<p>The conjecture is currently unproven, but has been shown to hold for numbers up to 5476377146882523136. </p>
<h3 id="finding-a-collatz-sequence">Finding a Collatz Sequence</h3>
<p>As you might imagine, given the simple nature of the conjecture&#39;s rules, it&#39;s quite easy to 
find the Collatz sequence for a given number programmatically:</p>
<pre><code class="lang-rust"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">collatz</span>(</span>n: <span class="hljs-keyword">int</span>) -&gt; <span class="hljs-keyword">int</span> {
    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span> { <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; }
    <span class="hljs-keyword">match</span> n % <span class="hljs-number">2</span> {
        <span class="hljs-number">0</span> =&gt; { <span class="hljs-number">1</span> + collatz(n / <span class="hljs-number">2</span>) }
        <span class="hljs-number">_</span> =&gt; { <span class="hljs-number">1</span> + collatz(n*<span class="hljs-number">3</span> + <span class="hljs-number">1</span>) }
    }
}
</code></pre>
<p>We can use this code in the following program to find the number of Collatz steps for a user-input number:</p>
<pre><code class="lang-rust"><span class="hljs-keyword">use</span> std::os;
<span class="hljs-keyword">use</span> std::<span class="hljs-keyword">int</span>;

<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span>(</span>) {
    <span class="hljs-keyword">if</span> os::args().len() &lt; <span class="hljs-number">2</span> {
        println!(<span class="hljs-string">"Error: Please provide a number as argument."</span>);
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">int</span>::parse_bytes(os::args().get(<span class="hljs-number">1</span>).clone().into_bytes(), <span class="hljs-number">10</span>);
    <span class="hljs-keyword">let</span> i: <span class="hljs-keyword">int</span> = <span class="hljs-keyword">match</span> option { 
                         Some(x) =&gt; { x }
                        None =&gt; { <span class="hljs-number">0</span> } 
                     } ;
    println!(<span class="hljs-string">"{:d} has {:d} Collatz steps"</span>, i, collatz(i));
}

<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">collatz</span>(</span>n: <span class="hljs-keyword">int</span>) -&gt; <span class="hljs-keyword">int</span> {
    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span> { <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; }
    <span class="hljs-keyword">match</span> n % <span class="hljs-number">2</span> {
        <span class="hljs-number">0</span> =&gt; { <span class="hljs-number">1</span> + collatz(n / <span class="hljs-number">2</span>) }
        <span class="hljs-number">_</span> =&gt; { <span class="hljs-number">1</span> + collatz(n*<span class="hljs-number">3</span> + <span class="hljs-number">1</span>) }
    }
}
</code></pre>
<h3 id="breaking-down-the-code">Breaking Down the Code</h3>
<p>First, let&#39;s look at the main function. There are a couple of things at the beginning which you haven&#39;t seen thus far
in the tutorial, namely the contents of the first conditional block:</p>
<pre><code class="lang-rust">    <span class="hljs-keyword">if</span> os::args().len() &lt; <span class="hljs-number">2</span> {
        println!(<span class="hljs-string">"Error: Please provide a number as argument."</span>);
        <span class="hljs-keyword">return</span>;
    }
</code></pre>
<p>We aren&#39;t going to worry about the meaning of the <code>os::</code> just yet; for now, just know that <code>os::args().len()</code> gets the number of command-line arguments passed in. <code>println!</code>, as you&#39;ve probably guessed based on your use of other languages, prints the string argument passed in. The <code>!</code> after <code>println</code> indicates that it is a macro, not a normal function.  This macro is like <code>printf</code> in C, and takes as its first argument a format string, with the remaining arguments being used to fill the slots of the format string. The syntax Rust uses for its format strings is similar to that of <a href="http://docs.python.org/2/library/string.html#format-string-syntax" target="_blank">Python</a>.</p>
<p>The conditional block ends with a return statement, to prematurely exit the function. </p>
<p>Next, the <code>collatz</code> function is declared to take an <code>int</code> as input and return an <code>int</code>:</p>
<pre><code class="lang-rust"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">collatz</span>(</span>n: <span class="hljs-keyword">int</span>) -&gt; <span class="hljs-keyword">int</span> {
    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span> { <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; }
    <span class="hljs-keyword">match</span> n % <span class="hljs-number">2</span> {
        <span class="hljs-number">0</span> =&gt; { <span class="hljs-number">1</span> + collatz(n / <span class="hljs-number">2</span>) }
        <span class="hljs-number">_</span> =&gt; { <span class="hljs-number">1</span> + collatz(n*<span class="hljs-number">3</span> + <span class="hljs-number">1</span>) }
    }
}
</code></pre>
<p>This code uses a <code>match</code> expression to carry out the actual Collatz conjecture algorithm. Notice that we have to have the <code>_</code> arm of the block in order for it to be comprehensive; given this, it makes sense to only have
one other arm (as opposed to two other arms, one for 0 and one for 1).</p>
<p>Finally, notice again that, by not putting semicolons at the end of the calls in each arm of the match block, we are able to use the value of whichever arm of the block is selected as our return value without an explicit return statement.</p>
<h3 id="final-exercises-">Final Exercises:</h3>
<p>To finish off this section, we have a small programming problem for you to solve. Starting with the above code (also available in a file <a href="http://rtm9zc.github.io/RustTutorial/code/01/collatz.rs" target="_blank">here</a>), make a program that takes as command-line input a single number, representing a number of Collatz steps (steps required to reach 1 by following the Collatz procedure), and computes the lowest number (greater than zero) which requires this number of Collatz steps. For example, if the number input was 949, your program should output 63,728,127; similarly, if you input 1132, it should output 9,780,657,630 as the lowest number requiring 1132 Collatz steps.</p>
<p>Since these are fairly large numbers, and it might take your code a very long time to reach them (unless you use a more advanced technique, such as memoizing previous results) you can use the following smaller test cases: For an input of 6, your code should output 10. For an input of 45, it should output 361. Finally, for an input of 260, it should print 18514.</p>
<p>Note: Trying to call <code>collatz(0)</code> will result in a stack overflow, as the Collatz sequence is only defined for positive integers.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../index.html" class="navigation navigation-prev " aria-label="Previous page: Introduction"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../md/01/1.html" class="navigation navigation-next " aria-label="Next page: Variables"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
